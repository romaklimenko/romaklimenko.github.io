{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2017/danish-ml/","result":{"data":{"site":{"siteMetadata":{"title":"Roman Klimenko"}},"markdownRemark":{"id":"c44a98ec-daf5-55d0-a679-3bfaf2b9207b","excerpt":"Everyone who learned Danish knows that there are two grammatical genders in the language: common (or n-words) and neuter (or t-words). According to Wikipedia…","html":"<p>Everyone who learned Danish knows that there are two grammatical genders in the language: common (or n-words) and neuter (or t-words).</p>\n<p>According to <a href=\"https://en.wikipedia.org/wiki/Gender_in_Danish_and_Swedish\">Wikipedia</a>:</p>\n<blockquote>\n<p>Historically, nouns in Danish and Swedish, like other Germanic languages, had one of three grammatical genders: masculine, feminine, or neuter. Over time the feminine and masculine genders merged into a common gender.</p>\n</blockquote>\n<p>Most of the Danish nouns are n-words and there are no rules about how to distinguish between n- and t-words. Teachers usually recommend just to remember.</p>\n<p>On the other hand, people usually say about a new word they hear that it <em>sounds like</em> n- or t-word.</p>\n<p>If one says that a word sounds like a t-word, could it be that our intuition is able to build up some rules to solve this question? I was always interested to find an answer to that question.</p>\n<p>The simplest thing I could do is to ask a computer to classify the Danish nouns and find the rules to distinguish between n- and -t.</p>\n<p>I took an XML-file with Danish a big set of Danish words from the <a href=\"https://dumps.wikimedia.org/dawiktionary/latest/\">Wiktionary dumps</a> (thanks to Steve for pointing me there) and applied an R-script to process and classify the data.</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">library<span class=\"token punctuation\">(</span>xml2<span class=\"token punctuation\">)</span>\nxml <span class=\"token operator\">&lt;-</span> read_xml<span class=\"token punctuation\">(</span><span class=\"token string\">\"./data/dawiktionary-latest-pages-meta-current.xml\"</span><span class=\"token punctuation\">)</span>\nnouns <span class=\"token operator\">&lt;-</span> data.frame<span class=\"token punctuation\">(</span>\n  xml_text<span class=\"token punctuation\">(</span>xml_find_all<span class=\"token punctuation\">(</span>xml<span class=\"token punctuation\">,</span> <span class=\"token string\">\"//d1:page//d1:title\"</span><span class=\"token punctuation\">,</span> xml_ns<span class=\"token punctuation\">(</span>xml<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  xml_text<span class=\"token punctuation\">(</span>xml_find_all<span class=\"token punctuation\">(</span>xml<span class=\"token punctuation\">,</span> <span class=\"token string\">\"//d1:page//d1:text\"</span><span class=\"token punctuation\">,</span> xml_ns<span class=\"token punctuation\">(</span>xml<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ncolnames<span class=\"token punctuation\">(</span>nouns<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;-</span> c<span class=\"token punctuation\">(</span><span class=\"token string\">\"title\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"text\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>This gives us a data frame with 48008 rows, let’s remove everything but nouns from the data frame:</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">nouns <span class=\"token operator\">&lt;-</span> nouns<span class=\"token punctuation\">[</span><span class=\"token operator\">!</span>grepl<span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">,</span> nouns<span class=\"token operator\">$</span>title<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">]</span>\nnouns <span class=\"token operator\">&lt;-</span> nouns<span class=\"token punctuation\">[</span>grepl<span class=\"token punctuation\">(</span><span class=\"token string\">\"\\\\{\\\\{-noun-\\\\|da\\\\}\\\\}\"</span><span class=\"token punctuation\">,</span> nouns<span class=\"token operator\">$</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">]</span>\nnrow<span class=\"token punctuation\">(</span>nouns<span class=\"token punctuation\">)</span> <span class=\"token comment\"># 8004</span></code></pre></div>\n<p>Now we have 8004 nouns, let’s add a column et, it should contain boolean values: <em>et</em> for t-words and <em>en</em> for n-words:</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">nouns<span class=\"token operator\">$</span>et <span class=\"token operator\">&lt;-</span> apply<span class=\"token punctuation\">(</span>nouns<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  ifelse<span class=\"token punctuation\">(</span>\n    grepl<span class=\"token punctuation\">(</span>paste<span class=\"token punctuation\">(</span><span class=\"token string\">\"et\\\\|\"</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> sep <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> ignore.case <span class=\"token operator\">=</span> <span class=\"token boolean\">TRUE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"et\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"en\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\nnouns<span class=\"token operator\">$</span>et <span class=\"token operator\">&lt;-</span> factor<span class=\"token punctuation\">(</span>nouns<span class=\"token operator\">$</span>et<span class=\"token punctuation\">)</span>\nnouns<span class=\"token operator\">$</span>text <span class=\"token operator\">&lt;-</span> <span class=\"token keyword\">NULL</span>\nnrow<span class=\"token punctuation\">(</span>nouns<span class=\"token punctuation\">[</span>nouns<span class=\"token operator\">$</span>et <span class=\"token operator\">==</span> <span class=\"token string\">\"et\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 1552</span>\nnrow<span class=\"token punctuation\">(</span>nouns<span class=\"token punctuation\">[</span>nouns<span class=\"token operator\">$</span>et <span class=\"token operator\">!=</span> <span class=\"token string\">\"et\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># 6452</span></code></pre></div>\n<p>Next step, add more columns with attributes in order to let computer classify the words by these attributes. Let’s start with word’s length and build a decision tree based on this attribute:</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">library<span class=\"token punctuation\">(</span>party<span class=\"token punctuation\">)</span>\nnouns<span class=\"token operator\">$</span>letters_count <span class=\"token operator\">&lt;-</span> apply<span class=\"token punctuation\">(</span>nouns<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> nchar<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ntree <span class=\"token operator\">&lt;-</span> ctree<span class=\"token punctuation\">(</span>et <span class=\"token operator\">~</span> letters_count<span class=\"token punctuation\">,</span> data <span class=\"token operator\">=</span> nouns<span class=\"token punctuation\">)</span>\nplot<span class=\"token punctuation\">(</span>tree<span class=\"token punctuation\">)</span></code></pre></div>\n<img src=\"tree0.png\" class=\"img-fluid\" />\n<p>As we can see from the plot, there are slightly less than 20% of t-words between the words, which length is more than 8 symbols and there are slightly more than 20% of the words, which length is less or equal than 8 symbols. So far this doesn’t look like an effective set of rules as the part of t-words in our data frame is about 19%. But let’s write a function which will apply our set of nouns to the decision tree and will count how many times the decision tree will give us a right answer about is it a n- or t-word:</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\">test_tree <span class=\"token operator\">&lt;-</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>tree<span class=\"token punctuation\">,</span> nouns<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  prediction <span class=\"token operator\">&lt;-</span> data.frame<span class=\"token punctuation\">(</span>nouns<span class=\"token operator\">$</span>et<span class=\"token punctuation\">,</span> predict<span class=\"token punctuation\">(</span>tree<span class=\"token punctuation\">,</span> nouns<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  colnames<span class=\"token punctuation\">(</span>prediction<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;-</span> c<span class=\"token punctuation\">(</span><span class=\"token string\">\"fact\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"prediction\"</span><span class=\"token punctuation\">)</span>\n  prediction<span class=\"token operator\">$</span>valid <span class=\"token operator\">&lt;-</span> apply<span class=\"token punctuation\">(</span>prediction<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> ifelse<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> x<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">TRUE</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">FALSE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  nrow<span class=\"token punctuation\">(</span>prediction<span class=\"token punctuation\">[</span>prediction<span class=\"token operator\">$</span>valid<span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\ntest_tree<span class=\"token punctuation\">(</span>tree<span class=\"token punctuation\">,</span> nouns<span class=\"token punctuation\">)</span> <span class=\"token comment\"># 6452</span></code></pre></div>\n<p>There are 6452 right answers which coincide with a number of n-words in the <code class=\"language-text\">nouns</code> data frame. Therefore, our decision tree is not so effective.\nWhat if noun’s gender correlates with first of last letters the word? Let’s add more attributes to check this. There are 29 letters in the Danish alphabet, so there will be at least 29 boolean attributes for every first letter, at least 29 for every last letter. By the same principle, let’s add attributes for first two and last two letters of every word (<code class=\"language-text\">29 * 29 = 841</code>).</p>\n<div class=\"gatsby-highlight\" data-language=\"r\"><pre class=\"language-r\"><code class=\"language-r\"><span class=\"token comment\"># Dansk ABC</span>\nabc <span class=\"token operator\">&lt;-</span> c<span class=\"token punctuation\">(</span>\n  <span class=\"token string\">\"A\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"B\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"C\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"D\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"E\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"F\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"G\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"H\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"I\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"J\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"K\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"L\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"M\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"N\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"O\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"P\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Q\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"R\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"S\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"T\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"U\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"V\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"W\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"X\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Y\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Z\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Æ\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Ø\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Å\"</span><span class=\"token punctuation\">)</span>\ncolumns <span class=\"token operator\">&lt;-</span> c<span class=\"token punctuation\">(</span><span class=\"token string\">\"letters_count\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>letter1 <span class=\"token keyword\">in</span> abc<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  letter <span class=\"token operator\">&lt;-</span> letter1\n  column_name <span class=\"token operator\">&lt;-</span> paste<span class=\"token punctuation\">(</span><span class=\"token string\">\"first_letter_is_\"</span><span class=\"token punctuation\">,</span> letter<span class=\"token punctuation\">,</span> sep<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n  column <span class=\"token operator\">&lt;-</span> apply<span class=\"token punctuation\">(</span>nouns<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">)</span> ifelse<span class=\"token punctuation\">(</span>toupper<span class=\"token punctuation\">(</span>substring<span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> letter<span class=\"token punctuation\">,</span> <span class=\"token boolean\">TRUE</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">FALSE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>length<span class=\"token punctuation\">(</span>column<span class=\"token punctuation\">[</span>column<span class=\"token operator\">==</span><span class=\"token boolean\">TRUE</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    nouns<span class=\"token punctuation\">[</span>column_name<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;-</span> column\n    columns <span class=\"token operator\">&lt;-</span> append<span class=\"token punctuation\">(</span>columns<span class=\"token punctuation\">,</span> column_name<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>letter2 <span class=\"token keyword\">in</span> abc<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      letter <span class=\"token operator\">&lt;-</span> paste<span class=\"token punctuation\">(</span>letter1<span class=\"token punctuation\">,</span> letter2<span class=\"token punctuation\">,</span> sep<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n      column_name <span class=\"token operator\">&lt;-</span> paste<span class=\"token punctuation\">(</span><span class=\"token string\">\"first_letter_is_\"</span><span class=\"token punctuation\">,</span> letter<span class=\"token punctuation\">,</span> sep<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n      column <span class=\"token operator\">&lt;-</span> apply<span class=\"token punctuation\">(</span>\n        nouns<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">)</span> ifelse<span class=\"token punctuation\">(</span>\n          toupper<span class=\"token punctuation\">(</span>substring<span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> letter<span class=\"token punctuation\">,</span>\n          <span class=\"token boolean\">TRUE</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">FALSE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>length<span class=\"token punctuation\">(</span>column<span class=\"token punctuation\">[</span>column<span class=\"token operator\">==</span><span class=\"token boolean\">TRUE</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        nouns<span class=\"token punctuation\">[</span>column_name<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;-</span> column\n        columns <span class=\"token operator\">&lt;-</span> append<span class=\"token punctuation\">(</span>columns<span class=\"token punctuation\">,</span> column_name<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>letter1 <span class=\"token keyword\">in</span> abc<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  letter <span class=\"token operator\">&lt;-</span> letter1\n  column_name <span class=\"token operator\">&lt;-</span> paste<span class=\"token punctuation\">(</span><span class=\"token string\">\"last_letter_is_\"</span><span class=\"token punctuation\">,</span> letter<span class=\"token punctuation\">,</span> sep<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n  column <span class=\"token operator\">&lt;-</span> apply<span class=\"token punctuation\">(</span>\n    nouns<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">)</span> ifelse<span class=\"token punctuation\">(</span>\n      toupper<span class=\"token punctuation\">(</span>substring<span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> nchar<span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> nchar<span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> letter1<span class=\"token punctuation\">,</span>\n      <span class=\"token boolean\">TRUE</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">FALSE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>length<span class=\"token punctuation\">(</span>column<span class=\"token punctuation\">[</span>column<span class=\"token operator\">==</span><span class=\"token boolean\">TRUE</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    nouns<span class=\"token punctuation\">[</span>column_name<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;-</span> column\n    columns <span class=\"token operator\">&lt;-</span> append<span class=\"token punctuation\">(</span>columns<span class=\"token punctuation\">,</span> column_name<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>letter2 <span class=\"token keyword\">in</span> abc<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      letter <span class=\"token operator\">&lt;-</span> paste<span class=\"token punctuation\">(</span>letter2<span class=\"token punctuation\">,</span> letter1<span class=\"token punctuation\">,</span> sep<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n      column_name <span class=\"token operator\">&lt;-</span> paste<span class=\"token punctuation\">(</span><span class=\"token string\">\"last_letters_are_\"</span><span class=\"token punctuation\">,</span> letter<span class=\"token punctuation\">,</span> sep<span class=\"token operator\">=</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n      column <span class=\"token operator\">&lt;-</span> apply<span class=\"token punctuation\">(</span>\n        nouns<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">)</span> ifelse<span class=\"token punctuation\">(</span>\n          toupper<span class=\"token punctuation\">(</span>substring<span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> nchar<span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> nchar<span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> letter<span class=\"token punctuation\">,</span>\n          <span class=\"token boolean\">TRUE</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">FALSE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>length<span class=\"token punctuation\">(</span>column<span class=\"token punctuation\">[</span>column<span class=\"token operator\">==</span><span class=\"token boolean\">TRUE</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        nouns<span class=\"token punctuation\">[</span>column_name<span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;-</span> column\n        columns <span class=\"token operator\">&lt;-</span> append<span class=\"token punctuation\">(</span>columns<span class=\"token punctuation\">,</span> column_name<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\ntree <span class=\"token operator\">&lt;-</span> ctree<span class=\"token punctuation\">(</span>as.formula<span class=\"token punctuation\">(</span>paste<span class=\"token punctuation\">(</span><span class=\"token string\">\"et ~ \"</span><span class=\"token punctuation\">,</span> paste<span class=\"token punctuation\">(</span>columns<span class=\"token punctuation\">,</span> collapse <span class=\"token operator\">=</span> <span class=\"token string\">\"+\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> data <span class=\"token operator\">=</span> nouns<span class=\"token punctuation\">)</span>\nplot<span class=\"token punctuation\">(</span>tree<span class=\"token punctuation\">)</span>\ntest_tree<span class=\"token punctuation\">(</span>tree<span class=\"token punctuation\">,</span> nouns<span class=\"token punctuation\">)</span> <span class=\"token comment\"># 6595</span></code></pre></div>\n<img src=\"tree1.png\" class=\"img-fluid\" />\n<p>This tree gives us 6595 right answers, which is only 143 answers more, but still not enough to rely on it.\nFor the other hand, we can see that there are some signs that we can use and maybe our brain uses when we feel that some word sounds like n- or t-.</p>\n<p>For example:</p>\n<ul>\n<li>Out of 133 words ending by <em>“um”</em>, there are 109 t-words (82%). For example: <em>et amfibium, et faktotum, et punktum, but en rosarium</em>.</li>\n<li>Out of 1650 words ending by <em>“e”</em>, there are only 110 t-words (7%). For example: <em>en næse, en pige, but et æble</em>.</li>\n</ul>\n<p>Conclusion: unfortunately, it’s easier to remember all these words. Even if there are some rules that let us guess the right grammatical gender, they are more complex than just a set of first and last letters.</p>","fields":{"slug":"/blog/2017/danish-ml/"},"frontmatter":{"title":"Danish and naïve machine learning","date":"April 30, 2017","tags":["danish","machine-learning","r","decision-tree","dataisbeautiful"],"description":null}},"previous":{"fields":{"slug":"/blog/2016/sql/"},"frontmatter":{"title":"The Structured (English) Query Language"}},"next":{"fields":{"slug":"/blog/2017/how-to-prepare-for-marathon/"},"frontmatter":{"title":"How to prepare for a marathon"}}},"pageContext":{"id":"c44a98ec-daf5-55d0-a679-3bfaf2b9207b","previousPostId":"0e4f4a7b-ed27-54ab-8a74-62bea4cae571","nextPostId":"4cc813ec-cc68-54f3-8407-0dba61a3eb22"}},"staticQueryHashes":["2841359383"]}