{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/2021/list-locations/","result":{"data":{"site":{"siteMetadata":{"title":"Roman Klimenko"}},"markdownRemark":{"id":"7e73219f-8b96-5671-84ac-d5a84f011abf","excerpt":"If you want to create a new resource group from Azure CLI. You can easily do it like that: But what if you would like to create a resource group in Europe orâ€¦","html":"<img src=\"azure.png\" class=\"img-fluid\" />\n<small><a href=\"https://azure.microsoft.com/en-us/global-infrastructure/geographies/\" target=\"_blank\">\n    https://azure.microsoft.com/en-us/global-infrastructure/geographies/</a></small>\n<br />\n<br />\n<p>If you want to <a href=\"https://docs.microsoft.com/en-us/cli/azure/group?view=azure-cli-latest#az_group_create\">create a new resource group</a> from Azure CLI. You can easily do it like that:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">az group create --location westus -name MyResourceGroup</code></pre></div>\n<p>But what if you would like to create a resource group in Europe or Asia? What should you type instead of <code class=\"language-text\">westus</code>?</p>\n<p>To have a complete list of available locations, you can run:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">az account list-locations</code></pre></div>\n<p>You will get a long output like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>\n  <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"displayName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Brazil Southeast\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/subscriptions/.../locations/brazilsoutheast\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"metadata\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"geographyGroup\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"South America\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"latitude\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"-22.90278\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"longitude\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"-43.2075\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"pairedRegion\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/subscriptions/.../locations/brazilsouth\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"brazilsouth\"</span><span class=\"token punctuation\">,</span>\n          <span class=\"token property\">\"subscriptionId\"</span><span class=\"token operator\">:</span> <span class=\"token null keyword\">null</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"physicalLocation\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Rio\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"regionCategory\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Other\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"regionType\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Physical\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"brazilsoutheast\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"regionalDisplayName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"(South America) Brazil Southeast\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"subscriptionId\"</span><span class=\"token operator\">:</span> <span class=\"token null keyword\">null</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>This list is hard to read and what you need from it is the <code class=\"language-text\">name</code> property of each location.\nTo get only names, use the <code class=\"language-text\">--query</code> parameter:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">az account list-locations --query <span class=\"token string\">\"[*].name\"</span></code></pre></div>\n<p>The output is way readable now:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>\n  <span class=\"token string\">\"eastus\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"eastus2\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"southcentralus\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"westus2\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"australiaeast\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// ...</span>\n  <span class=\"token string\">\"norwaywest\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"switzerlandwest\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"ukwest\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"uaecentral\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"brazilsoutheast\"</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>But still, it would be nice to sort the list alphabetically:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">az account list-locations --query <span class=\"token string\">\"[*].name\"</span> --out tsv <span class=\"token operator\">|</span> <span class=\"token function\">sort</span></code></pre></div>\n<p>Output:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">asia\nasiapacific\naustralia\naustraliacentral\naustraliacentral2\naustraliaeast\naustraliasoutheast\nbrazil\nbrazilsouth\nbrazilsoutheast\ncanada\ncanadacentral\ncanadaeast\ncentralindia\ncentralus\ncentraluseuap\ncentralusstage\neastasia\neastasiastage\neastus\neastus2\neastus2euap\neastus2stage\neastusstage\neurope\nfrancecentral\nfrancesouth\ngermanynorth\ngermanywestcentral\nglobal\nindia\njapan\njapaneast\njapanwest\njioindiawest\nkoreacentral\nkoreasouth\nnorthcentralus\nnorthcentralusstage\nnortheurope\nnorwayeast\nnorwaywest\nsouthafricanorth\nsouthafricawest\nsouthcentralus\nsouthcentralusstage\nsoutheastasia\nsoutheastasiastage\nsouthindia\nswitzerlandnorth\nswitzerlandwest\nuaecentral\nuaenorth\nuk\nuksouth\nukwest\nunitedstates\nwestcentralus\nwesteurope\nwestindia\nwestus\nwestus2\nwestus2stage\nwestus3\nwestusstage</code></pre></div>\n<p>If you are in PowerShell, you could filter the output like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\">az account list<span class=\"token operator\">-</span>locations <span class=\"token operator\">--</span>query <span class=\"token string\">\"[*].name\"</span> `\n    <span class=\"token punctuation\">|</span> <span class=\"token function\">ConvertFrom-Json</span> `\n    <span class=\"token punctuation\">|</span> <span class=\"token function\">sort</span> `\n    <span class=\"token punctuation\">|</span> where <span class=\"token punctuation\">{</span> <span class=\"token variable\">$_</span> <span class=\"token operator\">-like</span> <span class=\"token string\">\"*europe*\"</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Output:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">europe\nnortheurope\nwesteurope</code></pre></div>","fields":{"slug":"/blog/2021/list-locations/"},"frontmatter":{"title":"List Azure resource locations","date":"April 18, 2021","tags":["how-to","cloud","azure","az-cli","az-group","az-account"],"description":null}},"previous":{"fields":{"slug":"/blog/2021/hasta-la-vista/"},"frontmatter":{"title":"Hasta la vista, Sitecore!"}},"next":{"fields":{"slug":"/blog/2021/right-to-left-d3-tree/"},"frontmatter":{"title":"Render a right-to-left tree with D3.js"}}},"pageContext":{"id":"7e73219f-8b96-5671-84ac-d5a84f011abf","previousPostId":"bfe4bad4-af7e-5fe1-abb7-2ebced03f670","nextPostId":"c3c16d55-6ad6-5538-aeaa-4ddc189563a1"}},"staticQueryHashes":["2841359383"]}